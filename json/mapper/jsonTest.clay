import test.*;

import json.*;
import json.mapper.*;

mapperJsonTestSuite() =
    TestSuite(
        "mapper.json", array(
            TestCase("JsonBoolean to json", test => {
                var j = mapToJsonQuick(JsonBoolean(true));
                expectEqual(test, "JsonBoolean", JsonBoolean(true), j);
            }),
            TestCase("JsonBoolean from json", test => {
                var j = JsonBoolean(false);
                expectEqual(test, "JsonBoolean", JsonBoolean(false), mapFromJsonQuick(JsonBoolean, j));
                expectEqual(test, "JsonBoolean", JsonBoolean(false), mapFromJsonQuick(JsonBoolean, JsonValue(j)));
            }),
            TestCase("JsonValue to json", test => {
                var j = mapToJsonQuick(JsonValue(JsonString("hi")));
                expectEqual(test, "JsonValue", JsonValue(JsonString("hi")), j);
            }),
            TestCase("JsonValue from json", test => {
                var j = JsonValue(JsonBoolean(false));
                expectEqual(test, "JsonValue", JsonValue(JsonBoolean(false)), mapFromJsonQuick(JsonValue, j));
            }),
        )
    );

    
mapperJsonTestMain() = testMain(mapperJsonTestSuite());

main() = mapperJsonTestMain();



